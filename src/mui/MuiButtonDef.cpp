// DON'T EDIT MANUALLY !!!!
// auto-generated by gen_txt.py !!!!

#include "BaseUtil.h"
#include "SerializeTxt.h"
#include "MuiButtonDef.h"

using namespace sertxt;

#define of offsetof
const FieldMetadata gButtonDefFieldMetadata[] = {
    { of(ButtonDef, name),  TYPE_STR,  NULL },
    { of(ButtonDef, text),  TYPE_WSTR, NULL },
    { of(ButtonDef, style), TYPE_STR,  NULL },
};

const StructMetadata gButtonDefMetadata = {
    sizeof(ButtonDef),
    3,
    "name\0text\0style\0\0",
    &gButtonDefFieldMetadata[0]
};

#undef of

ButtonDef *DeserializeButtonDef(const char *data, size_t dataLen)
{
    return DeserializeButtonDefWithDefault(data, dataLen, NULL, 0);
}

ButtonDef *DeserializeButtonDefWithDefault(const char *data, size_t dataLen, const char *defaultData, size_t defaultDataLen)
{
    char *dataCopy = str::DupN(data, dataLen);
    char *defaultDataCopy = str::DupN(defaultData, defaultDataLen);
    void *res = DeserializeWithDefault(dataCopy, dataLen, defaultDataCopy, defaultDataLen, &gButtonDefMetadata);
    free(dataCopy);
    free(defaultDataCopy);
    return (ButtonDef*)res;
}

ButtonDef *DeserializeButtonDef(TxtNode* root)
{
    return (ButtonDef*)Deserialize(root, &gButtonDefMetadata);
}

uint8_t *SerializeButtonDef(ButtonDef *val, size_t *dataLenOut)
{
    return Serialize((const uint8_t*)val, &gButtonDefMetadata, dataLenOut);
}

void FreeButtonDef(ButtonDef *val)
{
    FreeStruct((uint8_t*)val, &gButtonDefMetadata);
}
